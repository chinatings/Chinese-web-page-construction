.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
.版本 2
.支持库 spec
.支持库 mysql

.程序集 窗口程序集_启动窗口

.子程序 _按钮1_被单击
.局部变量 Ld, 雷电dnconsole操作
.局部变量 计次, 整数型
.局部变量 文件夹序号, 整数型
.局部变量 临时路径, 文本型
.局部变量 临时文件号, 整数型
.局部变量 ret, 文本型
.局部变量 记录集句柄, 整数型
.局部变量 账号, 文本型
.局部变量 密码, 文本型
.局部变量 记录数, 长整数型
.局部变量 索引, 整数型
.局部变量 数据库总账号数, 文本型
.局部变量 已提取账号总数, 文本型
.局部变量 新建模拟器数量, 整数型
.局部变量 单模拟器导入账号数量, 整数型
.局部变量 模拟器标题, 文本型
.局部变量 账号计次, 整数型
.局部变量 身份证计次, 整数型
.局部变量 姓名, 文本型
.局部变量 号码, 文本型
.局部变量 文本内容, 文本型
.局部变量 默认设置, 文本型
.局部变量 文件夹_xposed, 文本型
.局部变量 配置名称, 文本型
.局部变量 SQL, 文本型
.局部变量 recopy, 逻辑型


.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“请输入 KEY”, , , , )
    返回 ()
.如果真结束

tablename ＝ 编辑框_KEY.内容


.如果真 (到整数 (编辑框_服务器.内容) ≤ 0)
    提示框 (“请选择服务器”, , , , )
    返回 ()
.如果真结束


.如果真 (按钮_绑定KEY.标题 ≠ “绑定成功”)
    调试输出 (“请绑定正确的KEY值”)
    返回 ()
.如果真结束


按钮1.禁止 ＝ 真
文件夹序号 ＝ 1001

新建模拟器数量 ＝ 到整数 (编辑框_模拟器数量.内容)
单模拟器导入账号数量 ＝ 到整数 (编辑框_账号数量.内容)

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “`”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 数据库总账号数)
释放记录集 (记录集句柄)


.计次循环首 (到整数 (编辑框_模拟器数量.内容), 计次)

    .判断循环首 (真)

        临时路径 ＝ 取运行目录 () ＋ “\” ＋ 时间_到文本 (取现行时间 (), 1, 1) ＋ “ ” ＋ 到文本 (文件夹序号)

        .如果真 (目录_是否存在 (临时路径) ＝ 假)
            .如果真 (创建目录 (临时路径) ＝ 真)
                编辑框1.加入文本 (“目录创建成功:” ＋ 临时路径 ＋ #换行符)

                ' 创建模拟器设置文件夹

                文件夹_xposed ＝ 临时路径 ＋ “\xposed”




                .如果真 (目录_是否存在 (文件夹_xposed) ＝ 假)
                    创建目录 (文件夹_xposed)
                .如果真结束




                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\” ＋ 编辑框_服务器.内容 ＋ “.txt”, 5, )
                ' 插入文本 (临时文件号, 默认设置)
                ' 关闭文件 (临时文件号)  ' 配置文件加载

                ' 临时文件号 ＝ 打开文件 (文件夹_xposed ＋ “\列表.txt”, 5, )
                ' 插入文本 (临时文件号, 编辑框_服务器.内容)
                ' 关闭文件 (临时文件号)  ' 配置列表文件添加


                模拟器标题 ＝ 时间_到文本 (取现行时间 (), 1, 1) ＋ “-” ＋ 到文本 (文件夹序号)
                索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                .如果真 (索引 ≤ 0)
                    调试输出 (“开始创建模拟器”, 模拟器标题)
                    Ld.新建模拟器 (模拟器标题)
                .如果真结束

                .判断循环首 (真)
                    索引 ＝ 到整数 (Ld.取模拟器信息 (模拟器标题, 2, 1, ))

                    .如果 (索引 ≤ 0)
                        编辑框1.加入文本 (“等待模拟器创建中” ＋ “ ” ＋ 模拟器标题 ＋ #换行符)
                    .否则
                        跳出循环 ()
                    .如果结束

                    程序_延时 (1000, )
                .判断循环尾 ()



                .如果真 (索引 ≤ 0)
                    提示框 (“新建模拟器失败”, , , , )
                    返回 ()
                .如果真结束






                Ld.降低CPU (到整数 (索引), 50)
                Ld.修改配置 (到整数 (索引), edit_模拟器宽.内容, edit_模拟器高.内容, edit_DPI.内容, edit_CPU.内容, edit_内存.内容, , , , , , , “0”, , , )

                编辑框1.加入文本 (“设置模拟器参数：” ＋ 模拟器标题 ＋ #换行符)


                雷电_置共享目录 (索引, 临时路径, 1)
                编辑框1.加入文本 (“设置共享文件夹：” ＋ 模拟器标题 ＋ #换行符)
                跳出循环 ()
            .如果真结束

        .如果真结束

        文件夹序号 ＝ 文件夹序号 ＋ 1
    .判断循环尾 ()

    .如果 (选择框_脚本注册账号.选中 ＝ 假)
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )

        .计次循环首 (单模拟器导入账号数量, 账号计次)  ' 一个文本导入*个账号

            ' 模拟器文件夹账号文本插入内容
            执行SQL语句 (rehwnd, “SELECT * FROM `” ＋ tablename ＋ “` WHERE `状态` = '正常' OR `状态` is NULL OR `状态` = ''  LIMIT 1”)
            记录集句柄 ＝ 取记录集 (rehwnd)
            记录数 ＝ 取记录集行数 (记录集句柄)

            .如果真 (记录数 ＝ 0)
                信息框 (“表中无数据！”, 0, )
                返回 ()
            .如果真结束

            读字段值 (记录集句柄, “账号”, 账号)
            读字段值 (记录集句柄, “密码”, 密码)

            执行SQL语句 (rehwnd, “UPDATE `sys`.`” ＋ tablename ＋ “` SET `状态` = '已提取' WHERE `账号` = '” ＋ 账号 ＋ “'”)

            移到文件尾 (临时文件号)

            .判断开始 (选择框_潜龙脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码
            .判断 (选择框_喵版脚本.选中 ＝ 真)
                文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”
            .默认

            .判断结束

            ' 文本内容 ＝ 账号 ＋ “-” ＋ 密码 ＋ “-#5”  ' #4 魔龙消消乐   #5 谜题大陆
            .如果 (选择框_脚本注册账号.选中 ＝ 假)
                插入文本 (临时文件号, 文本内容 ＋ #换行符)
                编辑框1.加入文本 (“加入账号： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (账号计次) ＋ “个 ：” ＋ 账号 ＋ “-” ＋ 密码 ＋ #换行符)
            .否则
                编辑框1.加入文本 (“插入空白账号文件”)
            .如果结束

            释放记录集 (记录集句柄)

        .计次循环尾 ()
        关闭文件 (临时文件号)

        ' =========================================================================================================
        编辑框1.加入文本 (“--------------------------------------------------------------------------------” ＋ #换行符)

    .否则
        临时文件号 ＝ 打开文件 (临时路径 ＋ “\账号.txt”, 5, )
        关闭文件 (临时文件号)
        单模拟器导入账号数量 ＝ 10
    .如果结束


    临时文件号 ＝ 打开文件 (临时路径 ＋ “\身份证.txt”, 5, )

    SQL ＝ “SELECT * FROM idCard ORDER BY RAND() LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2)
    调试输出 (SQL)



    执行SQL语句 (rehwnd, SQL)

    ' 执行SQL语句 (rehwnd, “SELECT * FROM `idCard` WHERE  `序号` >= ((SELECT MAX(`序号`) FROM `idCard`)-(SELECT MIN(`序号`) FROM `idCard`)) * RAND() + (SELECT MIN(`序号`) FROM `idCard`) LIMIT ” ＋ 到文本 (单模拟器导入账号数量 × 2))
    记录集句柄 ＝ 取记录集 (rehwnd)
    记录数 ＝ 取记录集行数 (记录集句柄)
    .如果真 (记录数 ＝ 0)
        信息框 (“表中无数据！”, 0, )
        返回 ()
    .如果真结束

    .计次循环首 (记录数, 身份证计次)
        读字段值 (记录集句柄, “name”, 姓名)
        读字段值 (记录集句柄, “number”, 号码)
        移到文件尾 (临时文件号)
        插入文本 (临时文件号, 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        编辑框1.加入文本 (“加入实名： ” ＋ 模拟器标题 ＋ “ 第” ＋ 到文本 (身份证计次) ＋ “个 ：” ＋ 姓名 ＋ “-” ＋ 号码 ＋ #换行符)
        到下一行 (记录集句柄)
    .计次循环尾 ()
    关闭文件 (临时文件号)
    释放记录集 (记录集句柄)
    Ld.启动模拟器 (索引, )

    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\改机-1.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\神盾XP框架.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\脚本-潜龙.apk”, )
    ' Ld.安装应用 (索引, 取运行目录 () ＋ “\apk\谜题大陆.apk”, )

    编辑框1.加入文本 (“开始启动模拟器： ” ＋ 模拟器标题 ＋ #换行符)
    程序_延时 (3000, )
    编辑框1.加入文本 (“================================================================================” ＋ #换行符)
    复制文件夹 (取运行目录 () ＋ “\xposed”, 文件夹_xposed)


.计次循环尾 ()

执行SQL语句 (rehwnd, “SELECT count(*) as COUNT FROM `” ＋ tablename ＋ “` WHERE `状态` = '已提取'”)
记录集句柄 ＝ 取记录集 (rehwnd)
读字段值 (记录集句柄, “COUNT”, 已提取账号总数)
释放记录集 (记录集句柄)
进度条1.显示方式 ＝ 0

进度条1.最大位置 ＝ 到整数 (数据库总账号数)
进度条1.位置 ＝ 到整数 (已提取账号总数)

标签_已刷剩余数量.标题 ＝ 已提取账号总数 ＋ “/” ＋ 数据库总账号数
编辑框1.加入文本 (#换行符 ＋ #换行符 ＋ “**************   设置完毕   **************”)



.子程序 MYSQL_链接, 整数型

rehwnd ＝ 连接MySql (“gz-cdb-aac5jwf7.sql.tencentcdb.com”, “root”, “aa112211”, “sys”, 58427)
.如果真 (rehwnd ＞ 0)
    执行SQL语句 (rehwnd, “SET NAMES 'gbk'”)
    返回 (rehwnd)
.如果真结束
调试输出 (“数据库链接失败”)
返回 (0)

.子程序 __启动窗口_创建完毕


选择框_潜龙脚本.选中 ＝ 真
选择框_脚本注册账号.选中 ＝ 真
_启动窗口.标题 ＝ “雷电（魔龙）批量设置 作者：至尊宝  账号一旦提取未使用，作废处理”
' 皮肤_加载 (#皮肤_Areo, , )
MYSQL_链接 ()

编辑框_KEY.内容 ＝ 读配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, “未加载配置”)


.子程序 _按钮_绑定KEY_被单击
.局部变量 记录集句柄, 整数型
.局部变量 key_number, 文本型
.局部变量 计次, 整数型



.如果真 (编辑框_KEY.内容 ＝ “”)
    提示框 (“KEY值为空”, , , , )
.如果真结束

tablename ＝ 编辑框_KEY.内容
.如果 (执行SQL语句 (rehwnd, “SELECT * FROM tkeys WHERE key_number = '” ＋ tablename ＋ “'”))
    记录集句柄 ＝ 取记录集 (rehwnd)
    读字段值 (记录集句柄, “key_number”, key_number)

    .如果 (key_number ＝ tablename)
        调试输出 (“KEY 验证成功”)
        按钮_绑定KEY.标题 ＝ “绑定成功”

        按钮_绑定KEY.禁止 ＝ 真
        编辑框_KEY.禁止 ＝ 真
        编辑框1.加入文本 (“KEY 验证成功” ＋ #换行符)
        写配置项 (取运行目录 () ＋ “\config.ini”, “Keys”, “key”, key_number)
    .否则
        按钮_绑定KEY.标题 ＝ “绑定失败”
        按钮_绑定KEY.禁止 ＝ 真
        程序_延时 (1000, )
        .计次循环首 (5, 计次)
            按钮_绑定KEY.标题 ＝ “操作等待” ＋ “ ” ＋ 到文本 (6 － 计次) ＋ “s”
            程序_延时 (1000, )
        .计次循环尾 ()
        按钮_绑定KEY.标题 ＝ “重新绑定”
    .如果结束
    释放记录集 (记录集句柄)
    取记录数 ()
    按钮_绑定KEY.禁止 ＝ 假
.否则
    提示框 (“数据库连接失败”, , , , )
.如果结束



.子程序 _按钮2_被单击

载入 (窗口_导入账号, , 假)

.子程序 _选择框_喵版脚本_被单击


.如果真 (选择框_喵版脚本.选中 ＝ 真)
    选择框_潜龙脚本.选中 ＝ 假
.如果真结束


.子程序 _选择框_潜龙脚本_被单击


.如果真 (选择框_潜龙脚本.选中 ＝ 真)
    选择框_喵版脚本.选中 ＝ 假
.如果真结束


.子程序 复制文件夹
.参数 复制目录, 文本型
.参数 粘贴目录, 文本型
.局部变量 文件, 文本型

处理事件 ()
.如果真 (文件是否存在 (粘贴目录) ＝ 假)
    创建目录 (粘贴目录)
.如果真结束
复制目录 ＝ 复制目录 ＋ “\”
粘贴目录 ＝ 粘贴目录 ＋ “\”
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, )
.判断循环首 (文件 ≠ “”)
    复制文件 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    文件 ＝ 寻找文件 (, )
.判断循环尾 ()
文件 ＝ 寻找文件 (复制目录 ＋ “*.*”, #子目录)
.判断循环首 (文件 ≠ “”)
    .如果真 (文件 ≠ “.” 且 文件 ≠ “..”)
        复制文件夹 (复制目录 ＋ 文件, 粘贴目录 ＋ 文件)
    .如果真结束
    文件 ＝ 寻找文件 (, #子目录)
.判断循环尾 ()
